<div
  [formGroup]="newPresetForm"
  class="presetForm">

  <div class="presetForm__row presetForm__row--wrapped">
    <app-text-input
      *ngFor="let input of inputs"
      [label]="input.label"
      [inputs]="input.inputs"
      [description]="input.description">
    </app-text-input>
  </div>

  <div class="presetForm__row">
    <app-checkbox
      [control]="getFormControl('useCurrentState')"
      label="Use current state">
    </app-checkbox>

    <ng-container *ngIf="newPresetForm.get('useCurrentState')?.value === true; else apiValueInput">
      <app-checkbox
        [control]="getFormControl('includeBrightness')"
        label="Include brightness">
      </app-checkbox>
      <app-checkbox
        [control]="getFormControl('saveSegmentBounds')"
        label="Save segment bounds">
      </app-checkbox>
    </ng-container>

    <ng-template #apiValueInput>
      <app-text-input
        [label]="textareaInput.label"
        [inputs]="textareaInput.inputs"
        [description]="textareaInput.description">
      </app-text-input>
    </ng-template>
  </div>

  <div class="presetForm__row">
    <div class="presetForm__bottomButtons presetForm__horizontalSection">
      <button
        mat-raised-button
        color="primary"
        (click)="emitCloseForm()"
        class="">
        Cancel
      </button>
      <button
        mat-raised-button
        color="primary"
        (click)="savePreset()"
        class="">
        Save
      </button>
    </div>
  </div>
</div>
